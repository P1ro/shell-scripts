#!/usr/bin/env bats


# Make executables ./tests/../ visible to PATH
PATH="/home/aveey/tom-project/shell-scripts/tests/../:$PATH"

# Source files
shopt -s expand_aliases


@test "test id749902" {
	testfolder=$(echo /tmp/test-id749902-$$)
	mkdir $testfolder && cd $testfolder
	actual=$(test-id749902-actual)
	expected=$(test-id749902-expected)
	echo "========== actual =========="
	echo "$actual" 
	echo "========= expected ========="
	echo "$expected" 
	echo "============================"
	[ "$actual" == "$expected" ]
}

function test-id749902-actual () {
	bind 'set enable-bracketed-paste off'
}

function test-id749902-expected () {
	echo -e '\x1b[?2004l'
}


@test "test id577666" {
	testfolder=$(echo /tmp/test-id577666-$$)
	mkdir $testfolder && cd $testfolder
	actual=$(test-id577666-actual)
	expected=$(test-id577666-expected)
	echo "========== actual =========="
	echo "$actual" 
	echo "========= expected ========="
	echo "$expected" 
	echo "============================"
	[ "$actual" == "$expected" ]
}

function test-id577666-actual () {
	echo "Hi Mom!"
}

function test-id577666-expected () {
	echo -e 'Hi Mom!'
}


@test "test id815089" {
	testfolder=$(echo /tmp/test-id815089-$$)
	mkdir $testfolder && cd $testfolder
	actual=$(test-id815089-actual)
	expected=$(test-id815089-expected)
	echo "========== actual =========="
	echo "$actual" 
	echo "========= expected ========="
	echo "$expected" 
	echo "============================"
	[ "$actual" == "$expected" ]
}

function test-id815089-actual () {
	echo 'Hello world' | wc -l
}

function test-id815089-expected () {
	echo -e '1'
}
