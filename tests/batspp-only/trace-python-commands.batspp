# Setup (OPTIONAL - USED IF NEEDED)
## bind 'set enable-bracketed-paste off'

## TEST:  Make sure simple prompt used (e.g., no escapes that might contaminate output)
## PS1="$ "
## TODO: PS1="> ""
## NOTE: The Jupyter bash kernel requires that PS1 not be modified as they customize it. 
$ echo $PS1
[PEXP\[\]ECT_PROMPT>

# Delete all aliases and function
# TODO: Instead start from pristine environment
$ unalias -a
$ alias | wc -l
$ for f in $(typeset -f | egrep '^\w+'); do unset -f $f; done
$ typeset -f | egrep '^\w+' | wc -l
0
0

## NOTE: Source it directly from the ./tests directory.
# Setting a temp directory for tests
$ TMP=/tmp/test-py-commands
$ BIN_DIR=$PWD/..
## You will need to run jupyter from that directory.
## source $TEMP_BIN/_dir-aliases.bash
$ alias | wc -l
0

## NOTE: For reproducability, the directory name needs to be fixed
## In place of $$, use a psuedo random number (e,g., 7766)
## *** All output from one run to the next needs to be the same ***
## temp_dir=$TMP/test-$$
$ temp_dir=$TMP/test-7766
$ mkdir -p "$temp_dir"
# TODO: /bin/rm -rvf "$temp_dir"
$ cd "$temp_dir"
$ pwd
#ALIAS FOR PRINTING SEPERATION LINES (FOR JUPYTER)
$ alias linebr="printf '%*s\n' "${COLUMNS:-$(tput cols)}" '' | tr ' ' -"
/tmp/test-py-commands/test-7766

$ alias testuser="sed -r "s/"$USER"+/user/g""
$ alias testnum="sed -r "s/[0-9]/X/g""
# alias testmonth="sed -r "s/['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec']/M/g""

$ source $BIN_DIR/tomohara-aliases.bash

# add-python-path $temp_dir
# alias ps-python-full='ps-all python'
# alias ps-python='ps-python-full | $EGREP -iv "(screenlet|ipython|egrep|update-manager|software-properties|networkd-dispatcher)"'
# alias show-python-path='show-path-dir PYTHONPATH'

$ ps-python-full | wc -l | testnum
# Sample Output: 23
XX

$ ps-python | wc -l | testnum
# Sample Output: 22
XX

## show-python-path DISPLAYS ALL THE AVAILABLE PATHS OF PYTHON
$ show-python-path | testuser
PYTHONPATH:
/home/user/python


# function python-lint-work() { python-lint-full "$@" 2>&1 | $EGREP -v '\((bad-continuation|bad-option-value|fixme|invalid-name|locally-disabled|too-few-public-methods|too-many-\S+|trailing-whitespace|star-args|unnecessary-pass)\)' | $EGREP -v '^(([A-Z]:[0-9]+)|(Your code has been rated)|(No config file found)|(\-\-\-\-\-))' | $PAGER; }
# function python-lint() { python-lint-work "$@" 2>&1 | $EGREP -v '(Exactly one space required)|\((bad-continuation|bad-whitespace|bad-indentation|bare-except|c-extension-no-member|consider-using-enumerate|consider-using-with|global-statement|global-variable-not-assigned|keyword-arg-before-vararg|len-as-condition|line-too-long|logging-not-lazy|misplaced-comparison-constant|missing-final-newline|redefined-variable-type|redundant-keyword-arg|superfluous-parens|too-many-arguments|too-many-instance-attributes|trailing-newlines|useless-\S+|wrong-import-order|wrong-import-position)\)' | $PAGER; }

# Takes time for execution
$ python-lint-work os | testnum
************* Module os
/usr/lib/pythonX.XX/os.py:XX:X: WXXXX: Redefining built-in 'open' (redefined-builtin)
/usr/lib/pythonX.XX/os.py:XX:XX: WXXXX: Redefining name 'name' from outer scope (line XX) (redefined-outer-name)
/usr/lib/pythonX.XX/os.py:XX:X: WXXXX: Wildcard import posix (wildcard-import)
/usr/lib/pythonX.XX/os.py:XX:X: EXXXX: Unable to import 'nt' (import-error)
/usr/lib/pythonX.XX/os.py:XX:X: WXXXX: Wildcard import nt (wildcard-import)
/usr/lib/pythonX.XX/os.py:XX:X: EXXXX: Unable to import 'nt' (import-error)
/usr/lib/pythonX.XX/os.py:XX:X: CXXXX: Import "from os.path import curdir, pardir, sep, pathsep, defpath, extsep, altsep, devnull" should be placed at the top of the module (wrong-import-position)
/usr/lib/pythonX.XX/os.py:XXX:XX: WXXXX: Redefining built-in 'str' (redefined-builtin)
/usr/lib/pythonX.XX/os.py:XXX:XX: WXXXX: Redefining name 'name' from outer scope (line XX) (redefined-outer-name)
/usr/lib/pythonX.XX/os.py:XXX:XX: WXXXX: Redefining name 'name' from outer scope (line XX) (redefined-outer-name)
/usr/lib/pythonX.XX/os.py:XXX:X: WXXXX: Redefining name 'error' from outer scope (line XX) (redefined-outer-name)
/usr/lib/pythonX.XX/os.py:XXX:XX: WXXXX: Redefining name 'name' from outer scope (line XX) (redefined-outer-name)
/usr/lib/pythonX.XX/os.py:XXX:X: WXXXX: Redefining built-in 'dir' (redefined-builtin)
/usr/lib/pythonX.XX/os.py:XXX:X: CXXXX: Import outside toplevel (warnings) (import-outside-toplevel)
/usr/lib/pythonX.XX/os.py:XXX:X: CXXXX: Import "from _collections_abc import MutableMapping, Mapping" should be placed at the top of the module (wrong-import-position)
/usr/lib/pythonX.XX/os.py:XXX:XX: CXXXX: Formatting a regular string which could be a f-string (consider-using-f-string)
/usr/lib/pythonX.XX/os.py:XXX:XX: CXXXX: Formatting a regular string which could be a f-string (consider-using-f-string)
/usr/lib/pythonX.XX/os.py:XXX:X: CXXXX: Missing function or method docstring (missing-function-docstring)
/usr/lib/pythonX.XX/os.py:XXX:X: WXXXX: Parameter 'default' has been renamed to 'value' in overridden '_Environ.setdefault' method (arguments-renamed)
/usr/lib/pythonX.XX/os.py:XXX:XX: CXXXX: Formatting a regular string which could be a f-string (consider-using-f-string)
/usr/lib/pythonX.XX/os.py:XXX:XX: CXXXX: Formatting a regular string which could be a f-string (consider-using-f-string)
/usr/lib/pythonX.XX/os.py:XXX:XX: CXXXX: Formatting a regular string which could be a f-string (consider-using-f-string)
/usr/lib/pythonX.XX/os.py:XXX:XX: WXXXX: Access to a protected member _data of a client class (protected-access)
/usr/lib/pythonX.XX/os.py:XXX:X: WXXXX: Redefining name 'fsencode' from outer scope (line XXX) (redefined-outer-name)
/usr/lib/pythonX.XX/os.py:XXX:X: WXXXX: Redefining name 'fsdecode' from outer scope (line XXX) (redefined-outer-name)
/usr/lib/pythonX.XX/os.py:XXX:X: RXXXX: Unnecessary "else" after "return" (no-else-return)
/usr/lib/pythonX.XX/os.py:XXX:X: RXXXX: Unnecessary "else" after "return" (no-else-return)
/usr/lib/pythonX.XX/os.py:XXX:XX: WXXXX: No exception type(s) specified (bare-except)
/usr/lib/pythonX.XX/os.py:XXX:X: RXXXX: Either all return statements in a function should return an expression, or none of them should. (inconsistent-return-statements)
/usr/lib/pythonX.XX/os.py:XXX:XX: WXXXX: Unused variable 'wpid' (unused-variable)
/usr/lib/pythonX.XX/os.py:XXX:X: CXXXX: Missing function or method docstring (missing-function-docstring)
/usr/lib/pythonX.XX/os.py:XXX:XX: CXXXX: Formatting a regular string which could be a f-string (consider-using-f-string)
/usr/lib/pythonX.XX/os.py:XXX:XX: CXXXX: Formatting a regular string which could be a f-string (consider-using-f-string)
/usr/lib/pythonX.XX/os.py:XXX:X: CXXXX: Import outside toplevel (subprocess, io) (import-outside-toplevel)
/usr/lib/pythonX.XX/os.py:XXX:X: CXXXX: Multiple imports on one line (subprocess, io) (multiple-imports)
/usr/lib/pythonX.XX/os.py:XXX:X: RXXXX: Unnecessary "else" after "return" (no-else-return)
/usr/lib/pythonX.XX/os.py:XXX:XX: RXXXX: Consider using 'with' for resource-allocating operations (consider-using-with)
/usr/lib/pythonX.XX/os.py:XXX:X: WXXXX: Unused import io (unused-import)
/usr/lib/pythonX.XX/os.py:XXXX:X: CXXXX: Missing function or method docstring (missing-function-docstring)
/usr/lib/pythonX.XX/os.py:XXXX:XX: RXXXX: Unnecessary "else" after "return" (no-else-return)
/usr/lib/pythonX.XX/os.py:XXXX:XX: WXXXX: Redefining name 'name' from outer scope (line XX) (redefined-outer-name)
/usr/lib/pythonX.XX/os.py:XXXX:X: CXXXX: Missing function or method docstring (missing-function-docstring)
/usr/lib/pythonX.XX/os.py:XXXX:X: WXXXX: Keyword argument before variable positional arguments list in the definition of fdopen function (keyword-arg-before-vararg)
/usr/lib/pythonX.XX/os.py:XXXX:XX: CXXXX: Formatting a regular string which could be a f-string (consider-using-f-string)
/usr/lib/pythonX.XX/os.py:XXXX:X: CXXXX: Import outside toplevel (io) (import-outside-toplevel)
/usr/lib/pythonX.XX/os.py:XXXX:XX: WXXXX: Using open without explicitly specifying an encoding (unspecified-encoding)
/usr/lib/pythonX.XX/os.py:XXXX:XX: WXXXX: Redefining name 'path' from outer scope (line XX) (redefined-outer-name)
/usr/lib/pythonX.XX/os.py:XXXX:X: RXXXX: Unnecessary "else" after "raise" (no-else-raise)
/usr/lib/pythonX.XX/os.py:XXXX:XX: WXXXX: Consider explicitly re-raising using the 'from' keyword (raise-missing-from)
/usr/lib/pythonX.XX/os.py:XXXX:X: RXXXX: Unnecessary "else" after "return" (no-else-return)
/usr/lib/pythonX.XX/os.py:XXXX:XX: CXXXX: Formatting a regular string which could be a f-string (consider-using-f-string)
/usr/lib/pythonX.XX/os.py:XXXX:XX: WXXXX: Redefining name 'path' from outer scope (line XX) (redefined-outer-name)
/usr/lib/pythonX.XX/os.py:XXXX:X: CXXXX: Missing function or method docstring (missing-function-docstring)
/usr/lib/pythonX.XX/os.py:XXXX:XX: CXXXX: Formatting a regular string which could be a f-string (consider-using-f-string)
/usr/lib/pythonX.XX/os.py:XXXX:XX: WXXXX: Redefining name 'path' from outer scope (line XX) (redefined-outer-name)
/usr/lib/pythonX.XX/os.py:XXXX:X: WXXXX: Redefining name 'nt' from outer scope (line XX) (redefined-outer-name)
/usr/lib/pythonX.XX/os.py:XXXX:X: CXXXX: Import outside toplevel (nt) (import-outside-toplevel)
/usr/lib/pythonX.XX/os.py:XXXX:X: EXXXX: Unable to import 'nt' (import-error)
/usr/lib/pythonX.XX/os.py:XXXX:XX: WXXXX: Access to a protected member _add_dll_directory of a client class (protected-access)
/usr/lib/pythonX.XX/os.py:XXXX:XX: WXXXX: Access to a protected member _remove_dll_directory of a client class (protected-access)
/usr/lib/pythonX.XX/os.py:XX:X: WXXXX: Unused import(s) CLD_CONTINUED, CLD_DUMPED, CLD_EXITED, CLD_KILLED, CLD_STOPPED, CLD_TRAPPED, DirEntry, EFD_CLOEXEC, EFD_NONBLOCK, EFD_SEMAPHORE, EX_CANTCREAT, EX_CONFIG, EX_DATAERR, EX_IOERR, EX_NOHOST, EX_NOINPUT, EX_NOPERM, EX_NOUSER, EX_OK, EX_OSERR, EX_OSFILE, EX_PROTOCOL, EX_SOFTWARE, EX_TEMPFAIL, EX_UNAVAILABLE, EX_USAGE, F_LOCK, F_OK, F_TEST, F_TLOCK, F_ULOCK, GRND_NONBLOCK, GRND_RANDOM, MFD_ALLOW_SEALING, MFD_CLOEXEC, MFD_HUGETLB, MFD_HUGE_XXGB, MFD_HUGE_XXMB, MFD_HUGE_XGB, MFD_HUGE_XMB, MFD_HUGE_XXXMB, MFD_HUGE_XGB, MFD_HUGE_XMB, MFD_HUGE_XXMB, MFD_HUGE_XXXKB, MFD_HUGE_XXXMB, MFD_HUGE_XXKB, MFD_HUGE_XMB, MFD_HUGE_MASK, MFD_HUGE_SHIFT, NGROUPS_MAX, O_ACCMODE, O_APPEND, O_ASYNC, O_CLOEXEC, O_CREAT, O_DIRECT, O_DIRECTORY, O_DSYNC, O_EXCL, O_FSYNC, O_LARGEFILE, O_NDELAY, O_NOATIME, O_NOCTTY, O_NOFOLLOW, O_NONBLOCK, O_PATH, O_RDWR, O_RSYNC, O_SYNC, O_TMPFILE, O_TRUNC, O_WRONLY, POSIX_FADV_DONTNEED, POSIX_FADV_NOREUSE, POSIX_FADV_NORMAL, POSIX_FADV_RANDOM, POSIX_FADV_SEQUENTIAL, POSIX_FADV_WILLNEED, POSIX_SPAWN_CLOSE, POSIX_SPAWN_DUPX, POSIX_SPAWN_OPEN, PRIO_PGRP, PRIO_PROCESS, PRIO_USER, P_ALL, P_PGID, P_PID, P_PIDFD, RTLD_DEEPBIND, RTLD_GLOBAL, RTLD_LAZY, RTLD_LOCAL, RTLD_NODELETE, RTLD_NOLOAD, RTLD_NOW, RWF_APPEND, RWF_DSYNC, RWF_HIPRI, RWF_NOWAIT, RWF_SYNC, R_OK, SCHED_BATCH, SCHED_FIFO, SCHED_IDLE, SCHED_OTHER, SCHED_RESET_ON_FORK, SCHED_RR, SEEK_DATA, SEEK_HOLE, SPLICE_F_MORE, SPLICE_F_MOVE, SPLICE_F_NONBLOCK, ST_APPEND, ST_MANDLOCK, ST_NOATIME, ST_NODEV, ST_NODIRATIME, ST_NOEXEC, ST_NOSUID, ST_RDONLY, ST_RELATIME, ST_SYNCHRONOUS, ST_WRITE, TMP_MAX, WCONTINUED, WCOREDUMP, WEXITED, WEXITSTATUS, WIFCONTINUED, WIFEXITED, WIFSIGNALED, WNOHANG, WNOWAIT, WSTOPPED, WSTOPSIG, WTERMSIG, WUNTRACED, W_OK, XATTR_CREATE, XATTR_REPLACE, XATTR_SIZE_MAX, X_OK, abort, access, chdir, chmod, chown, chroot, closerange, confstr, confstr_names, copy_file_range, cpu_count, ctermid, device_encoding, dup, dupX, error, eventfd, eventfd_read, eventfd_write, fchdir, fchmod, fchown, fdatasync, forkpty, fpathconf, fstat, fstatvfs, fsync, ftruncate, get_blocking, get_inheritable, get_terminal_size, getcwd, getcwdb, getegid, geteuid, getgid, getgrouplist, getgroups, getloadavg, getlogin, getpgid, getpgrp, getpid, getppid, getpriority, getrandom, getresgid, getresuid, getsid, getuid, getxattr, initgroups, isatty, kill, killpg, lchown, link, listdir, listxattr, lockf, lseek, lstat, major, makedev, memfd_create, minor, mkfifo, mknod, nice, openpty, pathconf, pathconf_names, pidfd_open, pipe, pipeX, posix_fadvise, posix_fallocate, posix_spawn, posix_spawnp, pread, preadv, pwrite, pwritev, read, readlink, readv, register_at_fork, remove, removexattr, replace, sched_get_priority_max, sched_get_priority_min, sched_getaffinity, sched_getparam, sched_getscheduler, sched_param, sched_rr_get_interval, sched_setaffinity, sched_setparam, sched_setscheduler, sched_yield, sendfile, set_blocking, set_inheritable, setegid, seteuid, setgid, setgroups, setpgid, setpgrp, setpriority, setregid, setresgid, setresuid, setreuid, setsid, setuid, setxattr, splice, stat_result, statvfs, statvfs_result, strerror, symlink, sync, sysconf, sysconf_names, system, tcgetpgrp, tcsetpgrp, terminal_size, times, times_result, truncate, ttyname, umask, uname, uname_result, unlink, urandom, utime, wait, waitX, waitX, waitid, waitid_result, write and writev from wildcard import of posix (unused-wildcard-import)
/usr/lib/pythonX.XX/os.py:XX:X: CXXXX: standard import "from os.path import curdir, pardir, sep, pathsep, defpath, extsep, altsep, devnull" should be placed before "from _collections_abc import _check_methods" (wrong-import-order)
/usr/lib/pythonX.XX/os.py:XX:X: CXXXX: Imports from package posix are not grouped (ungrouped-imports)
/usr/lib/pythonX.XX/os.py:XXX:X: CXXXX: Imports from package _collections_abc are not grouped (ungrouped-imports)



# May take some time
$ python-lint os | testnum
************* Module os
/usr/lib/pythonX.XX/os.py:XX:X: WXXXX: Redefining built-in 'open' (redefined-builtin)
/usr/lib/pythonX.XX/os.py:XX:XX: WXXXX: Redefining name 'name' from outer scope (line XX) (redefined-outer-name)
/usr/lib/pythonX.XX/os.py:XX:X: WXXXX: Wildcard import posix (wildcard-import)
/usr/lib/pythonX.XX/os.py:XX:X: EXXXX: Unable to import 'nt' (import-error)
/usr/lib/pythonX.XX/os.py:XX:X: WXXXX: Wildcard import nt (wildcard-import)
/usr/lib/pythonX.XX/os.py:XX:X: EXXXX: Unable to import 'nt' (import-error)
/usr/lib/pythonX.XX/os.py:XXX:XX: WXXXX: Redefining built-in 'str' (redefined-builtin)
/usr/lib/pythonX.XX/os.py:XXX:XX: WXXXX: Redefining name 'name' from outer scope (line XX) (redefined-outer-name)
/usr/lib/pythonX.XX/os.py:XXX:XX: WXXXX: Redefining name 'name' from outer scope (line XX) (redefined-outer-name)
/usr/lib/pythonX.XX/os.py:XXX:X: WXXXX: Redefining name 'error' from outer scope (line XX) (redefined-outer-name)
/usr/lib/pythonX.XX/os.py:XXX:XX: WXXXX: Redefining name 'name' from outer scope (line XX) (redefined-outer-name)
/usr/lib/pythonX.XX/os.py:XXX:X: WXXXX: Redefining built-in 'dir' (redefined-builtin)
/usr/lib/pythonX.XX/os.py:XXX:X: CXXXX: Import outside toplevel (warnings) (import-outside-toplevel)
/usr/lib/pythonX.XX/os.py:XXX:XX: CXXXX: Formatting a regular string which could be a f-string (consider-using-f-string)
/usr/lib/pythonX.XX/os.py:XXX:XX: CXXXX: Formatting a regular string which could be a f-string (consider-using-f-string)
/usr/lib/pythonX.XX/os.py:XXX:X: CXXXX: Missing function or method docstring (missing-function-docstring)
/usr/lib/pythonX.XX/os.py:XXX:X: WXXXX: Parameter 'default' has been renamed to 'value' in overridden '_Environ.setdefault' method (arguments-renamed)
/usr/lib/pythonX.XX/os.py:XXX:XX: CXXXX: Formatting a regular string which could be a f-string (consider-using-f-string)
/usr/lib/pythonX.XX/os.py:XXX:XX: CXXXX: Formatting a regular string which could be a f-string (consider-using-f-string)
/usr/lib/pythonX.XX/os.py:XXX:XX: CXXXX: Formatting a regular string which could be a f-string (consider-using-f-string)
/usr/lib/pythonX.XX/os.py:XXX:XX: WXXXX: Access to a protected member _data of a client class (protected-access)
/usr/lib/pythonX.XX/os.py:XXX:X: WXXXX: Redefining name 'fsencode' from outer scope (line XXX) (redefined-outer-name)
/usr/lib/pythonX.XX/os.py:XXX:X: WXXXX: Redefining name 'fsdecode' from outer scope (line XXX) (redefined-outer-name)
/usr/lib/pythonX.XX/os.py:XXX:X: RXXXX: Unnecessary "else" after "return" (no-else-return)
/usr/lib/pythonX.XX/os.py:XXX:X: RXXXX: Unnecessary "else" after "return" (no-else-return)
/usr/lib/pythonX.XX/os.py:XXX:X: RXXXX: Either all return statements in a function should return an expression, or none of them should. (inconsistent-return-statements)
/usr/lib/pythonX.XX/os.py:XXX:XX: WXXXX: Unused variable 'wpid' (unused-variable)
/usr/lib/pythonX.XX/os.py:XXX:X: CXXXX: Missing function or method docstring (missing-function-docstring)
/usr/lib/pythonX.XX/os.py:XXX:XX: CXXXX: Formatting a regular string which could be a f-string (consider-using-f-string)
/usr/lib/pythonX.XX/os.py:XXX:XX: CXXXX: Formatting a regular string which could be a f-string (consider-using-f-string)
/usr/lib/pythonX.XX/os.py:XXX:X: CXXXX: Import outside toplevel (subprocess, io) (import-outside-toplevel)
/usr/lib/pythonX.XX/os.py:XXX:X: CXXXX: Multiple imports on one line (subprocess, io) (multiple-imports)
/usr/lib/pythonX.XX/os.py:XXX:X: RXXXX: Unnecessary "else" after "return" (no-else-return)
/usr/lib/pythonX.XX/os.py:XXX:X: WXXXX: Unused import io (unused-import)
/usr/lib/pythonX.XX/os.py:XXXX:X: CXXXX: Missing function or method docstring (missing-function-docstring)
/usr/lib/pythonX.XX/os.py:XXXX:XX: RXXXX: Unnecessary "else" after "return" (no-else-return)
/usr/lib/pythonX.XX/os.py:XXXX:XX: WXXXX: Redefining name 'name' from outer scope (line XX) (redefined-outer-name)
/usr/lib/pythonX.XX/os.py:XXXX:X: CXXXX: Missing function or method docstring (missing-function-docstring)
/usr/lib/pythonX.XX/os.py:XXXX:XX: CXXXX: Formatting a regular string which could be a f-string (consider-using-f-string)
/usr/lib/pythonX.XX/os.py:XXXX:X: CXXXX: Import outside toplevel (io) (import-outside-toplevel)
/usr/lib/pythonX.XX/os.py:XXXX:XX: WXXXX: Using open without explicitly specifying an encoding (unspecified-encoding)
/usr/lib/pythonX.XX/os.py:XXXX:XX: WXXXX: Redefining name 'path' from outer scope (line XX) (redefined-outer-name)
/usr/lib/pythonX.XX/os.py:XXXX:X: RXXXX: Unnecessary "else" after "raise" (no-else-raise)
/usr/lib/pythonX.XX/os.py:XXXX:XX: WXXXX: Consider explicitly re-raising using the 'from' keyword (raise-missing-from)
/usr/lib/pythonX.XX/os.py:XXXX:X: RXXXX: Unnecessary "else" after "return" (no-else-return)
/usr/lib/pythonX.XX/os.py:XXXX:XX: CXXXX: Formatting a regular string which could be a f-string (consider-using-f-string)
/usr/lib/pythonX.XX/os.py:XXXX:XX: WXXXX: Redefining name 'path' from outer scope (line XX) (redefined-outer-name)
/usr/lib/pythonX.XX/os.py:XXXX:X: CXXXX: Missing function or method docstring (missing-function-docstring)
/usr/lib/pythonX.XX/os.py:XXXX:XX: CXXXX: Formatting a regular string which could be a f-string (consider-using-f-string)
/usr/lib/pythonX.XX/os.py:XXXX:XX: WXXXX: Redefining name 'path' from outer scope (line XX) (redefined-outer-name)
/usr/lib/pythonX.XX/os.py:XXXX:X: WXXXX: Redefining name 'nt' from outer scope (line XX) (redefined-outer-name)
/usr/lib/pythonX.XX/os.py:XXXX:X: CXXXX: Import outside toplevel (nt) (import-outside-toplevel)
/usr/lib/pythonX.XX/os.py:XXXX:X: EXXXX: Unable to import 'nt' (import-error)
/usr/lib/pythonX.XX/os.py:XXXX:XX: WXXXX: Access to a protected member _add_dll_directory of a client class (protected-access)
/usr/lib/pythonX.XX/os.py:XXXX:XX: WXXXX: Access to a protected member _remove_dll_directory of a client class (protected-access)
/usr/lib/pythonX.XX/os.py:XX:X: WXXXX: Unused import(s) CLD_CONTINUED, CLD_DUMPED, CLD_EXITED, CLD_KILLED, CLD_STOPPED, CLD_TRAPPED, DirEntry, EFD_CLOEXEC, EFD_NONBLOCK, EFD_SEMAPHORE, EX_CANTCREAT, EX_CONFIG, EX_DATAERR, EX_IOERR, EX_NOHOST, EX_NOINPUT, EX_NOPERM, EX_NOUSER, EX_OK, EX_OSERR, EX_OSFILE, EX_PROTOCOL, EX_SOFTWARE, EX_TEMPFAIL, EX_UNAVAILABLE, EX_USAGE, F_LOCK, F_OK, F_TEST, F_TLOCK, F_ULOCK, GRND_NONBLOCK, GRND_RANDOM, MFD_ALLOW_SEALING, MFD_CLOEXEC, MFD_HUGETLB, MFD_HUGE_XXGB, MFD_HUGE_XXMB, MFD_HUGE_XGB, MFD_HUGE_XMB, MFD_HUGE_XXXMB, MFD_HUGE_XGB, MFD_HUGE_XMB, MFD_HUGE_XXMB, MFD_HUGE_XXXKB, MFD_HUGE_XXXMB, MFD_HUGE_XXKB, MFD_HUGE_XMB, MFD_HUGE_MASK, MFD_HUGE_SHIFT, NGROUPS_MAX, O_ACCMODE, O_APPEND, O_ASYNC, O_CLOEXEC, O_CREAT, O_DIRECT, O_DIRECTORY, O_DSYNC, O_EXCL, O_FSYNC, O_LARGEFILE, O_NDELAY, O_NOATIME, O_NOCTTY, O_NOFOLLOW, O_NONBLOCK, O_PATH, O_RDWR, O_RSYNC, O_SYNC, O_TMPFILE, O_TRUNC, O_WRONLY, POSIX_FADV_DONTNEED, POSIX_FADV_NOREUSE, POSIX_FADV_NORMAL, POSIX_FADV_RANDOM, POSIX_FADV_SEQUENTIAL, POSIX_FADV_WILLNEED, POSIX_SPAWN_CLOSE, POSIX_SPAWN_DUPX, POSIX_SPAWN_OPEN, PRIO_PGRP, PRIO_PROCESS, PRIO_USER, P_ALL, P_PGID, P_PID, P_PIDFD, RTLD_DEEPBIND, RTLD_GLOBAL, RTLD_LAZY, RTLD_LOCAL, RTLD_NODELETE, RTLD_NOLOAD, RTLD_NOW, RWF_APPEND, RWF_DSYNC, RWF_HIPRI, RWF_NOWAIT, RWF_SYNC, R_OK, SCHED_BATCH, SCHED_FIFO, SCHED_IDLE, SCHED_OTHER, SCHED_RESET_ON_FORK, SCHED_RR, SEEK_DATA, SEEK_HOLE, SPLICE_F_MORE, SPLICE_F_MOVE, SPLICE_F_NONBLOCK, ST_APPEND, ST_MANDLOCK, ST_NOATIME, ST_NODEV, ST_NODIRATIME, ST_NOEXEC, ST_NOSUID, ST_RDONLY, ST_RELATIME, ST_SYNCHRONOUS, ST_WRITE, TMP_MAX, WCONTINUED, WCOREDUMP, WEXITED, WEXITSTATUS, WIFCONTINUED, WIFEXITED, WIFSIGNALED, WNOHANG, WNOWAIT, WSTOPPED, WSTOPSIG, WTERMSIG, WUNTRACED, W_OK, XATTR_CREATE, XATTR_REPLACE, XATTR_SIZE_MAX, X_OK, abort, access, chdir, chmod, chown, chroot, closerange, confstr, confstr_names, copy_file_range, cpu_count, ctermid, device_encoding, dup, dupX, error, eventfd, eventfd_read, eventfd_write, fchdir, fchmod, fchown, fdatasync, forkpty, fpathconf, fstat, fstatvfs, fsync, ftruncate, get_blocking, get_inheritable, get_terminal_size, getcwd, getcwdb, getegid, geteuid, getgid, getgrouplist, getgroups, getloadavg, getlogin, getpgid, getpgrp, getpid, getppid, getpriority, getrandom, getresgid, getresuid, getsid, getuid, getxattr, initgroups, isatty, kill, killpg, lchown, link, listdir, listxattr, lockf, lseek, lstat, major, makedev, memfd_create, minor, mkfifo, mknod, nice, openpty, pathconf, pathconf_names, pidfd_open, pipe, pipeX, posix_fadvise, posix_fallocate, posix_spawn, posix_spawnp, pread, preadv, pwrite, pwritev, read, readlink, readv, register_at_fork, remove, removexattr, replace, sched_get_priority_max, sched_get_priority_min, sched_getaffinity, sched_getparam, sched_getscheduler, sched_param, sched_rr_get_interval, sched_setaffinity, sched_setparam, sched_setscheduler, sched_yield, sendfile, set_blocking, set_inheritable, setegid, seteuid, setgid, setgroups, setpgid, setpgrp, setpriority, setregid, setresgid, setresuid, setreuid, setsid, setuid, setxattr, splice, stat_result, statvfs, statvfs_result, strerror, symlink, sync, sysconf, sysconf_names, system, tcgetpgrp, tcsetpgrp, terminal_size, times, times_result, truncate, ttyname, umask, uname, uname_result, unlink, urandom, utime, wait, waitX, waitX, waitid, waitid_result, write and writev from wildcard import of posix (unused-wildcard-import)
/usr/lib/pythonX.XX/os.py:XX:X: CXXXX: Imports from package posix are not grouped (ungrouped-imports)
/usr/lib/pythonX.XX/os.py:XXX:X: CXXXX: Imports from package _collections_abc are not grouped (ungrouped-imports)



# ERROR: Pattern not found  (press RETURN)
$ run-python-lint-batched $BIN_DIR/tests/auto_batspp.py | testuser | testnum
************* Module auto_batspp
/home/user/tom-project/shell-scripts/tests/auto_batspp.py:XX:X: WXXXX: Using an f-string that does not have any interpolated variables (f-string-without-interpolation)
/home/user/tom-project/shell-scripts/tests/auto_batspp.py:XXX:X: WXXXX: Using an f-string that does not have any interpolated variables (f-string-without-interpolation)
/home/user/tom-project/shell-scripts/tests/auto_batspp.py:XXX:X: WXXXX: Using an f-string that does not have any interpolated variables (f-string-without-interpolation)
/home/user/tom-project/shell-scripts/tests/auto_batspp.py:XXX:XX: RXXXX: Boolean condition ''-n' or '-t' not in ARG' will always evaluate to ''-n'' (condition-evals-to-constant)
/home/user/tom-project/shell-scripts/tests/auto_batspp.py:XXX:XX: RXXXX: Boolean condition ''n' or 't' not in ARG' will always evaluate to ''n'' (condition-evals-to-constant)
/home/user/tom-project/shell-scripts/tests/auto_batspp.py:XXX:X: WXXXX: Using an f-string that does not have any interpolated variables (f-string-without-interpolation)
/home/user/tom-project/shell-scripts/tests/auto_batspp.py:XXX:X: WXXXX: Using an f-string that does not have any interpolated variables (f-string-without-interpolation)



## REQUIRES setup.py (TBC)
# python-setup-install
# linebr
# python-uninstall-setup

# mezcla MODULE IS USED FOR TEST
$ python-import-path 'mezcla' | testnum
$ linebr
$ python-import-path-full 'mezcla' | testnum
$ linebr
# WORKS WELL, SHOWS SOME ISSUES ON BATSPP 2.1.X
$ python-import-path-all 'mezcla' | grep mezcla | head -n 5 | testnum
matches /usr/local/lib/pythonX.XX/dist-packages/mezcla/__init__.py
--------------------------------------------------------------------------------
matches /usr/local/lib/pythonX.XX/dist-packages/mezcla/__init__.py
matches /usr/local/lib/pythonX.XX/dist-packages/mezcla/debug.py
matches /usr/local/lib/pythonX.XX/dist-packages/mezcla/sys_version_info_hack.py
matches /usr/local/lib/pythonX.XX/dist-packages/mezcla/glue_helpers.py
matches /usr/local/lib/pythonX.XX/dist-packages/mezcla/system.py
matches /usr/local/lib/pythonX.XX/dist-packages/mezcla/tpo_common.py
--------------------------------------------------------------------------------
# /usr/local/lib/pythonX.XX/dist-packages/mezcla/__pycache__/__init__.cpython-XXX.pyc matches /usr/local/lib/pythonX.XX/dist-packages/mezcla/__init__.py
# code object from '/usr/local/lib/pythonX.XX/dist-packages/mezcla/__pycache__/__init__.cpython-XXX.pyc'
# /usr/local/lib/pythonX.XX/dist-packages/mezcla/__pycache__/debug.cpython-XXX.pyc matches /usr/local/lib/pythonX.XX/dist-packages/mezcla/debug.py
# code object from '/usr/local/lib/pythonX.XX/dist-packages/mezcla/__pycache__/debug.cpython-XXX.pyc'
# /usr/local/lib/pythonX.XX/dist-packages/mezcla/__pycache__/sys_version_info_hack.cpython-XXX.pyc matches /usr/local/lib/pythonX.XX/dist-packages/mezcla/sys_version_info_hack.py

# RETURNS A LIST OF PYTHON MODULES
$ rm -rf ./* > /dev/null
$ pip3 freeze | grep ipython | wc -l
2

# MODULE USED: mezcla | sed filter replaces versin number with XX
$ python-module-version-full mezcla | testnum
$ linebr
$ python-module-version mezcla | testnum
$ linebr
$ python-package-members mezcla | testnum
$ linebr
X.X.X
--------------------------------------------------------------------------------
X.X.X
--------------------------------------------------------------------------------
['PYTHONX_PLUS', 'TL', '__VERSION__', '__all__', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', 'debug', 'gh', 'glue_helpers', 'mezcla', 'sys', 'sys_version_info_hack', 'system', 'tpo_common']
--------------------------------------------------------------------------------

# ## rename-with-file-date REQUIRED
# function rename-with-file-date() {
#     local f new_f
#     local move_command="move"
#     if [ "$1" = "--copy" ]; then
#         move_command="command cp --interactive --verbose --preserve"
#         shift
#     fi
#     for f in "$@"; do
#         if [ -e "$f" ]; then
#            new_f=$(get-free-filename "$f".$(date --reference="$f" '+%d%b%y') ".")
#            eval "$move_command" "$f" "$new_f";
#         fi
#     done;
# }
# function get-free-filename() {
#     local base="$1"
#     local sep="$2"
#     local L=1
#     local filename="$base"
#     while [ -e "$filename" ]; do
#         let L++
#         filename="$base$sep$L"
#     done;
#     echo "$filename"
# }
# alias move='mv'
# export PAGER=less
# export PAGER_CHOPPED="less -S"
# export PAGER_NOEXIT="less -+F"
# function zless () { zcat "$@" | $PAGER; }
# function zhead () {
#     local file="$1"
#     shift
#     zcat "$file" | head "$@"
# }
# alias less-='$PAGER_NOEXIT'
# alias less-clipped='$PAGER_NOEXIT -S'
# alias less-tail='$PAGER_NOEXIT +G'
# alias less-tail-clipped='$PAGER_NOEXIT +G -S'
# alias ltc=less-tail-clipped

$ pwd 
$ printf "THIS IS THE HEAD\n1\n2\n3\n4\n5\n6\n7\nTHIS IS THE TAIL." >> testless.txt
/tmp/test-py-commands/test-7766

$ ltc testless.txt | testnum
THIS IS THE HEAD
X
X
X
X
X
X
X
THIS IS THE TAIL.

$ less-tail testless.txt | testnum
THIS IS THE HEAD
X
X
X
X
X
X
X
THIS IS THE TAIL.

$ less-tail-clipped testless.txt | testnum
THIS IS THE HEAD
X
X
X
X
X
X
X
THIS IS THE TAIL.

$ less-clipped testless.txt | testnum
THIS IS THE HEAD
X
X
X
X
X
X
X
THIS IS THE TAIL.

$ less- testless.txt | testnum
THIS IS THE HEAD
X
X
X
X
X
X
X
THIS IS THE TAIL.

$ ipython --version | testuser | testnum
$ linebr
# STATEMENT TRACING WORKS WELL / ISSUES WITH TESTUSER
$ python-trace l $BIN_DIR/tests/auto_batspp.py | testuser | testnum
]X;ipython [/tmp/test-py-commands/test-XXXX]]X;ipython [/tmp/test-py-commands/test-XXXX]X.X.X
--------------------------------------------------------------------------------
Cannot run file '/home/aveey/tom-project/shell-scripts/tests/../tests/auto_batspp.py' because: [Errno 2] No such file or directory: './batspp-only/'
Command exited with non-zero status 1
0.06user 0.01system 0:00.09elapsed 82%CPU (0avgtext+0avgdata 12568maxresident)k
40inputs+0outputs (0major+1817minor)pagefaults 0swaps
 --- modulename: auto_batspp, funcname: <module>
auto_batspp.py(X): """ 
auto_batspp.py(XX): import os
auto_batspp.py(XX): import sys
auto_batspp.py(XX): IPYNB = ".ipynb"
auto_batspp.py(XX): BATSPP = ".batspp"
auto_batspp.py(XX): BATS = ".bats"
auto_batspp.py(XX): TXT = ".txt"
auto_batspp.py(XX): BATSPP_STORE = r"batspp-only"
auto_batspp.py(XX): BATS_STORE = r"bats-only"
auto_batspp.py(XX): TXT_STORE = r"txt-reports"
auto_batspp.py(XX): KCOV_STORE = r"kcov-output"
auto_batspp.py(XX): files = os.listdir(r"./")
auto_batspp.py(XX): filesys_bpp = os.listdir(r"./batspp-only/")

# which-python SHOWS THE PATH OF PYTHON
$ which-python
#(ADDED FOR PYTHON3)
$ alias which-py3='which python3' 
$ which-py3
/usr/bin/python
/usr/bin/python3

$ rm -rf ./* > /dev/null
$ printf "print('THIS IS A TEST')" > atest.py
$ printf "print('THIS IS A TEST')" > xyz.py
$ printf "print('THIS IS A TEST11')" > abc1.py
# SHOWS ALL THE DIFFERENCES BETWEEN THE PYTHON SCRIPTS
# WORKS FINE - HALTS TESTS
$ py-diff atest.py xyz.py | testuser | testnum | awk '!($6="")'
Assuming implicit --no-glob, as otherwise  would be in extension
abcX.py vs. atest.py   
Differences: abcX.py atest.py   
-rw-rw-r-- X user user XX  X XX:XX abcX.py
-rw-rw-r-- X user user XX  X XX:XX atest.py
XcX     
< print('THIS IS A TESTXX') 
\ No newline at end  file
---     
> print('THIS IS A TEST') 
\ No newline at end  file
------------------------------------------------------------------------     
     
atest.py vs. atest.py   
------------------------------------------------------------------------     
     
xyz.py vs. atest.py   
------------------------------------------------------------------------     
     

# # TEST NOT APPLICABLE RN 
# function kivy-win32-env {
#    export PYTHONPATH='c:/cartera-de-tomas/python;c:/Program-Misc/python/kivy-1-9-0/kivy27'
#    kivy_dir="/c/Program-Misc/python/kivy-1-9-0"
#    python_dir="$kivy_dir/Python27"
#    prepend-path "$kivy_dir:$kivy_dir/Python27:$kivy_dir/tools:$kivy_dir/Python27/Scripts:$kivy_dir/gstreamer/bin:$kivy_dir/MinGW/bin:$kivy_dir/SDL2/bin"
# }

# # NEED HELP - MAYBE APPLICABLE?
# alias elide-data='python -m transpose_data --elide'
# alias kill-python="kill_em.sh --filter 'ipython|emacs' python"
# alias kill-python-all="kill_em.sh python"

# # ERRORS = OSTYPE is 'undefined variable' 
# # NOTE: elide-data shows RuntimeError if any testfile is named abc.py
# $ echo $OSTYPE
#   linebr
#   elide-data $BIN_DIR/template.py
#   linebr
#   kill-python
#   linebr
#   kill-python-all
# | linux-gnu
# | --------------------------------------------------------------------------------
# | /home/xaea12/miniconda3/bin/python: No module named transpose_data
# | --------------------------------------------------------------------------------
# | pattern=/:[0-9][0-9] [^ ]*python/
# | filter=/ipython|emacs/
# | OSTYPE: Undefined variable.
# | --------------------------------------------------------------------------------
# | pattern=/:[0-9][0-9] [^ ]*python/
# | filter=/($)(^)/
# | OSTYPE: Undefined variable.

$ alias TODAY='date'
$ alias extract-matches='extract_matches.perl'
$ function run-jupyter-notebook () {
$     local port="$1"; if [ "$port" = "" ]; then port=8888; fi
$     local ip="$2"; if [ "$ip" = "" ]; then ip="127.0.0.1"; fi
$     local log="$TEMP/jupyter-$(TODAY).log"
$     jupyter notebook --NotebookApp.token='' --no-browser --port $port --ip $ip >> "$log" 2>&1 &
$     echo "$log"
$     local delay=5
$     echo "sleeping $delay seconds for log to stabalize (effing jupyter)"
$     sleep $delay
$     tail "$log"
$     echo -n "URL: "
$     extract-matches 'http:\S+' "$log" | sort -u
$ }
$ alias jupyter-notebook-redir=run-jupyter-notebook
$ alias jupyter-notebook-redir-open='run-jupyter-notebook 8888 0.0.0.0'

# # ERROR GENERATED (see below)
# $ jupyter-notebook-redir-open
# | [1] 5335
# | /jupyter-Sun Aug 28 08:13:40 AM +0545 2022.log
# | sleeping 5 seconds for log to stabalize (effing jupyter)
# | bash: /jupyter-Sun Aug 28 08:13:40 AM +0545 2022.log: Permission denied
# | [1]+  Exit 1                  jupyter notebook --NotebookApp.token='' --no-browser --port $port --ip $ip >> "$log" 2>&1
# | tail: cannot open '/jupyter-Sun Aug 28 08:13:40 AM +0545 2022.log' for reading: No such file or directory
# | URL: Can't open /jupyter-Sun Aug 28 08:13:40 AM +0545 2022.log: No such file or directory at /home/xaea12/bin/extract_matches.perl line 132.
$ jupyter-notebook-redir-open | testuser | testnum | head -n 5
/home/user/temp/jupyter-Mon Dec  X XX:XX:XX PM +XXXX XXXX.log
sleeping X seconds for log to stabalize (effing jupyter)
[I XXXX-XX-XX XX:XX:XX.XXX LabApp] JupyterLab application directory is /home/user/.local/share/jupyter/lab
[I XX:XX:XX.XXX NotebookApp] The port XXXX is already in use, trying another port.
[I XX:XX:XX.XXX NotebookApp] The port XXXX is already in use, trying another port.

# # ERROR - MODULE NOT FOUND - NEED HELP
# $ rm -rf ./*
#   printf "print('THIS IS A TEST FOR TEXT EXTRACT ALIAS.')" > textex.py
#   xtract-text ./textex.py
# | /home/xaea12/miniconda3/bin/python: No module named extract_document_text

# # ERROR (LOG FILE NOT FOUND) - NEED HELP
# $ test-script ./textex.py
# | abort: no repository found in '/tmp/test-py-commands/test-3443' (.hg not found)
# | bash: tests/_test_textex.03sep22.log: No such file or directory
# | tests/_test_textex.03sep22.log: No such file or directory

# TESTING A PYTHON SCRIPT
$ printf "print('THIS IS A TEST10')\nprint('THIS IS A TEST11')\nprint('THIS IS A TEST12')\nprint('THIS IS A TEST13')" > random_line_test.py

# # ERROR : MISSING MODULE (No module named randomize_lines)
# # NEED HELP
# randomize-datafile atest.py
$ randomize-datafile random_line_test.py
print('THIS IS A TEST10')
print('THIS IS A TEST10')
print('THIS IS A TEST11')
print('THIS IS A TEST12')
/usr/bin/python: No module named randomize_lines

# # Need Help (TBF - NEED HELP OPERATING)
# filter-random _r10pct-fubar.data

$ conditional-source $BIN_DIR/tests/_dir-aliases.bash
$ touch file1
$ ln-symbolic file1 link1
$ linebr
$ ls
'link1' -> 'file1'
--------------------------------------------------------------------------------
abc1.py  atest.py  file1  link1  random_line_test.py  xyz.py

# TESTS FOR curl-dump AND url-path
$ curl-dump https://www.example.com/
$ linebr
$ ls -l | testuser | testnum | awk '!($6="")'
$ linebr
$ url-path $BIN_DIR/tests/auto_batspp.py | testuser
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100  1256  100  1256    0     0    853      0  0:00:01  0:00:01 --:--:--   853
--------------------------------------------------------------------------------
total XX    
-rw-rw-r-- X user user XX  X XX:XX abcX.py
-rw-rw-r-- X user user XX  X XX:XX atest.py
-rw-rw-r-- X user user X  X XX:XX fileX
lrwxrwxrwx X user user X  X XX:XX linkX -> fileX
-rw-rw-r-- X user user XXX  X XX:XX random_line_test.py
-rw-rw-r-- X user user XXXX  X XX:XX www.example.com
-rw-rw-r-- X user user XX  X XX:XX xyz.py
--------------------------------------------------------------------------------
file:////home/user/tom-project/shell-scripts/tests/auto_batspp.py

# # WORKS WELL - CANNOT USE testnum & testuser (halts test)
# firefox

$ pwd |  sed -r "s/"$USER"+/user/g"
$ rm -rf * > /dev/null
/tmp/test-py-commands/test-7766
