## THIS TEST REQUIRES ROOT PERMISSION FOR JUPYTER
# $ jupyter notebook --allow-root
## Bracketed Paste is disabled to prevent characters after output
## Example: 
# $ echo 'Hi'
# | Hi?2004l
$ bind 'set enable-bracketed-paste off'
[?2004h[?2004l[?2004l[?2004l[?2004l[?2004l[?2004l[?2004l[?2004l

## TEST:  Make sure simple prompt used (e.g., no escapes that might contaminate output)
## PS1="$ "
## TODO: PS1="> "
## NOTE: The Jupyter bash kernel requires that PS1 not be modified as they customize it. 
$ echo $PS1
[PEXP\[\]ECT_PROMPT>

# Delete all aliases and function
# TODO: Instead start from pristine environment
$ unalias -a
$ alias | wc -l
$ for f in $(typeset -f | egrep '^\w+'); do unset -f $f; done
$ typeset -f | egrep '^\w+' | wc -l
0
0

# Setting a temp directory for tests
$ TMP=/tmp/test-admin-commands
## NOTE: Source it directly from the ./tests directory.
$ BIN_DIR=$PWD/..
$ alias | wc -l
0

## NOTE: For reproducability, the directory name needs to be fixed
## In place of $$, use a psuedo random number (e,g., 3245)
## *** All output from one run to the next needs to be the same ***
## temp_dir=$TMP/test-$$
$ temp_dir=$TMP/test-3245
$ mkdir -p "$temp_dir"
# TODO: /bin/rm -rvf "$temp_dir"
$ cd "$temp_dir"
$ pwd
#ALIAS FOR PRINTING SEPERATION LINES (FOR JUPYTER)
$ alias linebr="printf '%*s\n' "${COLUMNS:-$(tput cols)}" '' | tr ' ' -"
/tmp/test-admin-commands/test-3245

# Count aliases proper
$ alias | wc -l
# Count functions
$ typeset -f | egrep '^\w+' | wc -l
1
0

# TEST 1 - SOFTWARE CONTROL ALIASES
# NOTE: sudo is revoked from each alias (e.g. alias apt-uninstall = "sudo apt-get remove")
$ alias apt-install='apt-get install --yes --fix-missing --no-remove'
$ alias apt-search='apt-cache search'
$ alias apt-installed='apt list --installed'
$ alias apt-uninstall='apt-get remove'
$ alias dpkg-install='dpkg --install '

## 1A) apt-installed : VIEWS ALL INSTALLED PACKAGES
# Note: Entire list of the package is very large.
# Example: Sorts and select all packages related to Python3
$ apt-installed *python3*
Listing... Done
[32mipython3[0m/jammy,jammy,now 7.31.1-1 all [installed]
[32mlibpython3-dev[0m/jammy,now 3.10.4-0ubuntu2 amd64 [installed,automatic]
[32mlibpython3-stdlib[0m/jammy,now 3.10.4-0ubuntu2 amd64 [installed,automatic]
[32mlibpython3.10-dev[0m/jammy-updates,jammy-security,now 3.10.4-3ubuntu0.1 amd64 [installed,automatic]
[32mlibpython3.10-minimal[0m/jammy-updates,jammy-security,now 3.10.4-3ubuntu0.1 amd64 [installed,automatic]
[32mlibpython3.10-stdlib[0m/jammy-updates,jammy-security,now 3.10.4-3ubuntu0.1 amd64 [installed,automatic]
[32mlibpython3.10[0m/jammy-updates,jammy-security,now 3.10.4-3ubuntu0.1 amd64 [installed,automatic]
[32mpython3-appdirs[0m/jammy,jammy,now 1.4.4-2 all [installed,automatic]
[32mpython3-apport[0m/jammy-updates,jammy-updates,jammy-security,jammy-security,now 2.20.11-0ubuntu82.1 all [installed,automatic]
[32mpython3-apt[0m/jammy-updates,now 2.3.0ubuntu2.1 amd64 [installed,automatic]
[32mpython3-aptdaemon[0m/jammy,jammy,now 1.1.1+bzr982-0ubuntu39 all [installed,automatic]
[32mpython3-argon2[0m/jammy,now 21.1.0-1 amd64 [installed,automatic]
[32mpython3-attr[0m/jammy,jammy,now 21.2.0-1 all [installed,automatic]
[32mpython3-babel[0m/jammy,jammy,now 2.8.0+dfsg.1-7 all [installed,automatic]
[32mpython3-backcall[0m/jammy,jammy,now 0.2.0-2 all [installed,automatic]
[32mpython3-beniget[0m/jammy,jammy,now 0.4.1-2 all [installed,automatic]
[32mpython3-bleach[0m/jammy,jammy,now 4.1.0-1 all [installed,automatic]
[32mpython3-blinker[0m/jammy,jammy,now 1.4+dfsg1-0.4 all [installed,automatic]
[32mpython3-brotli[0m/jammy,now 1.0.9-2build6 amd64 [installed,automatic]
[32mpython3-bs4[0m/jammy,jammy,now 4.10.0-2 all [installed,automatic]
[32mpython3-cairo[0m/jammy,now 1.20.1-3build1 amd64 [installed,automatic]
[32mpython3-certifi[0m/jammy,jammy,now 2020.6.20-1 all [installed,automatic]
[32mpython3-cffi-backend[0m/jammy,now 1.15.0-1build2 amd64 [installed,automatic]
[32mpython3-chardet[0m/jammy,jammy,now 4.0.0-1 all [installed,automatic]
[32mpython3-click[0m/jammy,jammy,now 8.0.3-1 all [installed,automatic]
[32mpython3-colorama[0m/jammy,jammy,now 0.4.4-1 all [installed,automatic]
[32mpython3-commandnotfound[0m/jammy,jammy,now 22.04.0 all [installed,automatic]
[32mpython3-configobj[0m/jammy,jammy,now 5.0.6-5 all [installed,automatic]
[32mpython3-cryptography[0m/jammy,now 3.4.8-1ubuntu2 amd64 [installed,automatic]
[32mpython3-cups[0m/jammy,now 2.0.1-5build1 amd64 [installed,automatic]
[32mpython3-cupshelpers[0m/jammy,jammy,now 1.5.16-0ubuntu3 all [installed,automatic]
[32mpython3-cycler[0m/jammy,jammy,now 0.11.0-1 all [installed,automatic]
[32mpython3-dateutil[0m/jammy,jammy,now 2.8.1-6 all [installed,automatic]
[32mpython3-dbus.mainloop.pyqt5[0m/jammy,now 5.15.6+dfsg-1ubuntu3 amd64 [installed,automatic]
[32mpython3-dbus[0m/jammy,now 1.2.18-3build1 amd64 [installed,automatic]
[32mpython3-debconf[0m/jammy,jammy,now 1.5.79ubuntu1 all [installed,automatic]
[32mpython3-debian[0m/jammy,jammy,now 0.1.43ubuntu1 all [installed,automatic]
[32mpython3-decorator[0m/jammy,jammy,now 4.4.2-0ubuntu1 all [installed,automatic]
[32mpython3-defer[0m/jammy,jammy,now 1.0.6-2.1ubuntu1 all [installed,automatic]
[32mpython3-defusedxml[0m/jammy,jammy,now 0.7.1-1 all [installed,automatic]
[32mpython3-dev[0m/jammy,now 3.10.4-0ubuntu2 amd64 [installed,automatic]
[32mpython3-distro-info[0m/jammy,jammy,now 1.1build1 all [installed,automatic]
[32mpython3-distro[0m/jammy,jammy,now 1.7.0-1 all [installed,automatic]
[32mpython3-distupgrade[0m/now 1:22.04.12 all [installed,upgradable to: 1:22.04.13]
[32mpython3-distutils[0m/jammy,jammy,now 3.10.4-0ubuntu1 all [installed,automatic]
[32mpython3-entrypoints[0m/jammy,jammy,now 0.4-1 all [installed,automatic]
[32mpython3-exif[0m/jammy,jammy,now 2.3.2-1 all [installed,automatic]
[32mpython3-exifread[0m/jammy,jammy,now 2.3.2-1 all [installed,automatic]
[32mpython3-flask[0m/jammy,jammy,now 2.0.1-2ubuntu1 all [installed,automatic]
[32mpython3-fonttools[0m/jammy,now 4.29.1-2build1 amd64 [installed,automatic]
[32mpython3-fs[0m/jammy,jammy,now 2.4.12-1 all [installed,automatic]
[32mpython3-gast[0m/jammy,jammy,now 0.5.2-2 all [installed,automatic]
[32mpython3-gdbm[0m/jammy,now 3.10.4-0ubuntu1 amd64 [installed,automatic]
[32mpython3-gi-cairo[0m/jammy-updates,now 3.42.1-0ubuntu1 amd64 [installed,automatic]
[32mpython3-gi[0m/jammy-updates,now 3.42.1-0ubuntu1 amd64 [installed,automatic]
[32mpython3-greenlet[0m/jammy,now 1.1.2-3build1 amd64 [installed,automatic]
[32mpython3-html5lib[0m/jammy,jammy,now 1.1-3 all [installed,automatic]
[32mpython3-httplib2[0m/jammy,jammy,now 0.20.2-2 all [installed,automatic]
[32mpython3-idna[0m/jammy,jammy,now 3.3-1 all [installed,automatic]
[32mpython3-importlib-metadata[0m/jammy,jammy,now 4.6.4-1 all [installed,automatic]
[32mpython3-inifile[0m/jammy,jammy,now 0.4.1-1 all [installed,automatic]
[32mpython3-ipykernel[0m/jammy,jammy,now 6.7.0-1 all [installed,automatic]
[32mpython3-ipython-genutils[0m/jammy,jammy,now 0.2.0-5 all [installed,automatic]
[32mpython3-ipython[0m/jammy,jammy,now 7.31.1-1 all [installed,automatic]
[32mpython3-ipywidgets[0m/jammy,jammy,now 6.0.0-9 all [installed,automatic]
[32mpython3-itsdangerous[0m/jammy,jammy,now 2.1.0-1 all [installed,automatic]
[32mpython3-jedi[0m/jammy,jammy,now 0.18.0-1 all [installed,automatic]
[32mpython3-jeepney[0m/jammy,jammy,now 0.7.1-3 all [installed,automatic]
[32mpython3-jinja2[0m/jammy,jammy,now 3.0.3-1 all [installed,automatic]
[32mpython3-jsonschema[0m/jammy,jammy,now 3.2.0-0ubuntu2 all [installed,automatic]
[32mpython3-jupyter-client[0m/jammy,jammy,now 7.1.2-1 all [installed,automatic]
[32mpython3-jupyter-console[0m/jammy,jammy,now 6.4.0-3 all [installed,automatic]
[32mpython3-jupyter-core[0m/jammy,jammy,now 4.9.1-1 all [installed,automatic]
[32mpython3-jupyterlab-pygments[0m/jammy,jammy,now 0.1.2-8 all [installed,automatic]
[32mpython3-jwt[0m/jammy-updates,jammy-updates,jammy-security,jammy-security,now 2.3.0-1ubuntu0.2 all [installed,automatic]
[32mpython3-keyring[0m/jammy,jammy,now 23.5.0-1 all [installed,automatic]
[32mpython3-kiwisolver[0m/jammy,now 1.3.2-1build1 amd64 [installed,automatic]
[32mpython3-launchpadlib[0m/jammy,jammy,now 1.10.16-1 all [installed]
[32mpython3-lazr.restfulclient[0m/jammy,jammy,now 0.14.4-1 all [installed,automatic]
[32mpython3-lazr.uri[0m/jammy,jammy,now 1.0.6-2 all [installed,automatic]
[32mpython3-ldb[0m/jammy-updates,jammy-security,now 2:2.4.4-0ubuntu0.1 amd64 [installed,automatic]
[32mpython3-lib2to3[0m/jammy,jammy,now 3.10.4-0ubuntu1 all [installed,automatic]
[32mpython3-lxml[0m/jammy,now 4.8.0-1build1 amd64 [installed,automatic]
[32mpython3-lz4[0m/jammy,now 3.1.3+dfsg-1build3 amd64 [installed,automatic]
[32mpython3-markupsafe[0m/jammy,now 2.0.1-2build1 amd64 [installed,automatic]
[32mpython3-matplotlib-inline[0m/jammy,jammy,now 0.1.3-1 all [installed,automatic]
[32mpython3-matplotlib[0m/jammy,now 3.5.1-2build1 amd64 [installed,automatic]
[32mpython3-minimal[0m/jammy,now 3.10.4-0ubuntu2 amd64 [installed,automatic]
[32mpython3-mistune[0m/jammy,jammy,now 2.0.0-1+really0.8.4-1 all [installed,automatic]
[32mpython3-more-itertools[0m/jammy,jammy,now 8.10.0-2 all [installed,automatic]
[32mpython3-mpmath[0m/jammy,jammy,now 1.2.1-2 all [installed,automatic]
[32mpython3-msgpack[0m/jammy,now 1.0.3-1build1 amd64 [installed,automatic]
[32mpython3-nbclient[0m/jammy,jammy,now 0.5.6-2 all [installed,automatic]
[32mpython3-nbconvert[0m/jammy,jammy,now 6.4.0-1 all [installed,automatic]
[32mpython3-nbformat[0m/jammy,jammy,now 5.1.3-1 all [installed,automatic]
[32mpython3-neovim[0m/jammy,jammy,now 0.4.2-1 all [installed,automatic]
[32mpython3-nest-asyncio[0m/jammy,jammy,now 1.5.4-1 all [installed,automatic]
[32mpython3-netifaces[0m/jammy,now 0.11.0-1build2 amd64 [installed,automatic]
[32mpython3-notebook[0m/jammy-updates,jammy-updates,jammy-security,jammy-security,now 6.4.8-1ubuntu0.1 all [installed,automatic]
[32mpython3-numpy[0m/jammy,now 1:1.21.5-1build2 amd64 [installed,automatic]
[32mpython3-oauthlib[0m/jammy,jammy,now 3.2.0-1 all [installed,automatic]
[32mpython3-olefile[0m/jammy,jammy,now 0.46-3 all [installed,automatic]
[32mpython3-openssl[0m/jammy,jammy,now 21.0.0-1 all [installed,automatic]
[32mpython3-packaging[0m/jammy,jammy,now 21.3-1 all [installed,automatic]
[32mpython3-pandocfilters[0m/jammy,jammy,now 1.5.0-1 all [installed,automatic]
[32mpython3-parso[0m/jammy,jammy,now 0.8.1-1 all [installed,automatic]
[32mpython3-pexpect[0m/jammy,jammy,now 4.8.0-2ubuntu1 all [installed,automatic]
[32mpython3-pickleshare[0m/jammy,jammy,now 0.7.5-5 all [installed,automatic]
[32mpython3-pil.imagetk[0m/jammy,now 9.0.1-1build1 amd64 [installed,automatic]
[32mpython3-pil[0m/jammy,now 9.0.1-1build1 amd64 [installed,automatic]
[32mpython3-pip[0m/jammy,jammy,now 22.0.2+dfsg-1 all [installed]
[32mpython3-pkg-resources[0m/jammy,jammy,now 59.6.0-1.2 all [installed,automatic]
[32mpython3-ply[0m/jammy,jammy,now 3.11-5 all [installed,automatic]
[32mpython3-problem-report[0m/jammy-updates,jammy-updates,jammy-security,jammy-security,now 2.20.11-0ubuntu82.1 all [installed,automatic]
[32mpython3-prometheus-client[0m/jammy,jammy,now 0.9.0-1 all [installed,automatic]
[32mpython3-prompt-toolkit[0m/jammy,jammy,now 3.0.28-1 all [installed,automatic]
[32mpython3-psutil[0m/jammy,now 5.9.0-1build1 amd64 [installed,automatic]
[32mpython3-ptyprocess[0m/jammy,jammy,now 0.7.0-3 all [installed,automatic]
[32mpython3-py[0m/jammy,jammy,now 1.10.0-1 all [installed,automatic]
[32mpython3-pygments[0m/jammy,jammy,now 2.11.2+dfsg-2 all [installed,automatic]
[32mpython3-pyinotify[0m/jammy,jammy,now 0.9.6-1.3 all [installed,automatic]
[32mpython3-pynvim[0m/jammy,jammy,now 0.4.2-1 all [installed,automatic]
[32mpython3-pyparsing[0m/jammy,jammy,now 2.4.7-1 all [installed,automatic]
[32mpython3-pyqt5.sip[0m/jammy,now 12.9.1-1build1 amd64 [installed,automatic]
[32mpython3-pyqt5[0m/jammy,now 5.15.6+dfsg-1ubuntu3 amd64 [installed,automatic]
[32mpython3-pyrsistent[0m/jammy,now 0.18.1-1build1 amd64 [installed,automatic]
[32mpython3-pythran[0m/jammy,now 0.10.0+ds2-1 amd64 [installed,automatic]
[32mpython3-renderpm[0m/jammy,now 3.6.8-1 amd64 [installed,automatic]
[32mpython3-reportlab-accel[0m/jammy,now 3.6.8-1 amd64 [installed,automatic]
[32mpython3-reportlab[0m/jammy,jammy,now 3.6.8-1 all [installed,automatic]
[32mpython3-requests[0m/jammy,jammy,now 2.25.1+dfsg-2 all [installed,automatic]
[32mpython3-scipy[0m/jammy,now 1.8.0-1exp2ubuntu1 amd64 [installed,automatic]
[32mpython3-secretstorage[0m/jammy,jammy,now 3.3.1-1 all [installed,automatic]
[32mpython3-send2trash[0m/jammy,jammy,now 1.8.1~b0-1 all [installed,automatic]
[32mpython3-setuptools[0m/jammy,jammy,now 59.6.0-1.2 all [installed,automatic]
[32mpython3-simplejson[0m/jammy,now 3.17.6-1build1 amd64 [installed,automatic]
[32mpython3-six[0m/jammy,jammy,now 1.16.0-3ubuntu1 all [installed,automatic]
[32mpython3-software-properties[0m/now 0.99.22.2 all [installed,upgradable to: 0.99.22.3]
[32mpython3-soupsieve[0m/jammy,jammy,now 2.3.1-1 all [installed,automatic]
[32mpython3-sympy[0m/jammy,jammy,now 1.9-1 all [installed,automatic]
[32mpython3-systemd[0m/jammy,now 234-3ubuntu2 amd64 [installed,automatic]
[32mpython3-talloc[0m/jammy,now 2.3.3-2build1 amd64 [installed,automatic]
[32mpython3-terminado[0m/jammy,jammy,now 0.13.1-1 all [installed,automatic]
[32mpython3-testpath[0m/jammy,jammy,now 0.5.0+dfsg-1 all [installed,automatic]
[32mpython3-tk[0m/jammy,now 3.10.4-0ubuntu1 amd64 [installed,automatic]
[32mpython3-tornado[0m/jammy,now 6.1.0-3build1 amd64 [installed,automatic]
[32mpython3-traitlets[0m/jammy,jammy,now 5.1.1-1 all [installed,automatic]
[32mpython3-tz[0m/jammy,jammy,now 2022.1-1 all [installed,automatic]
[32mpython3-ufolib2[0m/jammy,jammy,now 0.13.1+dfsg1-1 all [installed,automatic]
[32mpython3-unicodedata2[0m/jammy,now 14.0.0+ds-8 amd64 [installed,automatic]
[32mpython3-uno[0m/jammy-updates,now 1:7.3.5-0ubuntu0.22.04.1 amd64 [installed,automatic]
[32mpython3-update-manager[0m/jammy,jammy,now 1:22.04.9 all [installed,automatic]
[32mpython3-urllib3[0m/jammy,jammy,now 1.26.5-1~exp1 all [installed,automatic]
[32mpython3-wadllib[0m/jammy,jammy,now 1.3.6-1 all [installed,automatic]
[32mpython3-watchdog[0m/jammy,jammy,now 2.1.6-1 all [installed,automatic]
[32mpython3-wcwidth[0m/jammy,jammy,now 0.2.5+dfsg1-1 all [installed,automatic]
[32mpython3-webencodings[0m/jammy,jammy,now 0.5.1-4 all [installed,automatic]
[32mpython3-werkzeug[0m/jammy,jammy,now 2.0.2+dfsg1-1 all [installed,automatic]
[32mpython3-wheel[0m/jammy,jammy,now 0.37.1-2 all [installed,automatic]
[32mpython3-widgetsnbextension[0m/jammy,jammy,now 6.0.0-9 all [installed,automatic]
[32mpython3-xapian[0m/jammy,now 1.4.18-2build3 amd64 [installed,automatic]
[32mpython3-xdg[0m/jammy,jammy,now 0.27-2 all [installed,automatic]
[32mpython3-xkit[0m/jammy,jammy,now 0.5.0ubuntu5 all [installed,automatic]
[32mpython3-yaml[0m/jammy,now 5.4.1-1ubuntu1 amd64 [installed,automatic]
[32mpython3-zipp[0m/jammy,jammy,now 1.0.0-3 all [installed,automatic]
[32mpython3-zmq[0m/jammy,now 22.3.0-1build1 amd64 [installed,automatic]
[32mpython3.10-dev[0m/jammy-updates,jammy-security,now 3.10.4-3ubuntu0.1 amd64 [installed,automatic]
[32mpython3.10-minimal[0m/jammy-updates,jammy-security,now 3.10.4-3ubuntu0.1 amd64 [installed,automatic]
[32mpython3.10[0m/jammy-updates,jammy-security,now 3.10.4-3ubuntu0.1 amd64 [installed,automatic]
[32mpython3[0m/jammy,now 3.10.4-0ubuntu2 amd64 [installed]

## 1B) apt-search : SEARCHES DESIRED PACKAGES IN THE apt REPO
# Example: Searching for rolldice, a simple apt package
$ apt-search rolldice
rolldice - virtual dice roller

## 1C) apt-install : INSTALLS THE PACKAGE IF PRESENT IN THE REPO
## NOTE: Installing packages requires sudo
# Example: Installing rolldice (need a more suitable example - but works)
# | $ apt-install rolldice
# | E: Could not open lock file /var/lib/dpkg/lock-frontend - open (13: Permission denied)
# | E: Unable to acquire the dpkg frontend lock (/var/lib/dpkg/lock-frontend), are you root?

## 1D) apt-uninstall : UNINSTALLS/REMOVES DESIRED PACKAGE IF PRESENT
## NOTE: Uninstalling packages requires sudo
# # Example: Uninstalling rolldice
# $ apt-uninstall rolldice
# | E: Could not open lock file /var/lib/dpkg/lock-frontend - open (13: Permission denied)
# | E: Unable to acquire the dpkg frontend lock (/var/lib/dpkg/lock-frontend), are you root?

## 1E) dpkg-install : INSTALLS A DEBIAN PACKAGE
## NOTE: dpkg-install also requires sudo
# Example: Uninstalling rolldice (requires superuser - but works)
# $ dpkg-install rolldice
# | dpkg: error: requested operation requires superuser privilege

## TEST 2 - SYSTEM OPERATION ALIASES
$ alias restart-network='sudo ifdown eth0; sudo ifup eth0'
$ alias hibernate-system='sudo systemctl hibernate'
$ alias suspend-system='sudo systemctl suspend'
$ alias blank-screen='xset dpms force off'
$ alias stop-service='systemctl stop'
$ alias restart-service='sudo systemctl restart'
# stop-service IS ONLY SAFE TO USE FOR TEST FOR SOME SERVICES
# SOME ALIASES: ADDED BY ME
$ alias start-service='systemctl start'
$ alias list-all-service='systemctl --type=service'
$ alias restart-service-sudoless='systemctl restart'
$ alias status-service='systemctl status'
$ alias service-status='status-service'

# 2A) list-all-service : LISTS ALL SERVICES ON THE MACHINE (ALL STATES)
$ list-all-service
[0m[0;4m [0m[0m[0;4m UNIT                       [0m[0m[0;4m LOAD  [0m[0m[0;4m ACTIVE[0m[0m[0;4m SUB    [0m[0m[0;4m DESCRIPTION                 [0m
  accounts-daemon.service     loaded active running Accounts Service
  acpid.service               loaded active running ACPI event daemon
  alsa-restore.service        loaded active exited  Save/Restore Sound Card Sta…
  apparmor.service            loaded active exited  Load AppArmor profiles
  apport.service              loaded active exited  LSB: automatic crash report…
  avahi-daemon.service        loaded active running Avahi mDNS/DNS-SD Stack
  blk-availability.service    loaded active exited  Availability of block devic…
  console-setup.service       loaded active exited  Set console font and keymap
  cron.service                loaded active running Regular background program …
  cups-browsed.service        loaded active running Make remote CUPS printers a…
  cups.service                loaded active running CUPS Scheduler
  dbus.service                loaded active running D-Bus System Message Bus
  haveged.service             loaded active running Entropy Daemon based on the…
  irqbalance.service          loaded active running irqbalance daemon
  kerneloops.service          loaded active running Tool to automatically colle…
  keyboard-setup.service      loaded active exited  Set the console keyboard la…
  kmod-static-nodes.service   loaded active exited  Create List of Static Devic…
  lvm2-monitor.service        loaded active exited  Monitoring of LVM2 mirrors,…
  ModemManager.service        loaded active running Modem Manager
  networkd-dispatcher.service loaded active running Dispatcher daemon for syste…
  NetworkManager-wait-online… loaded active exited  Network Manager Wait Online
  NetworkManager.service      loaded active running Network Manager
  packagekit.service          loaded active running PackageKit Daemon
  plymouth-quit.service       loaded active exited  Terminate Plymouth Boot Scr…
  plymouth-read-write.service loaded active exited  Tell Plymouth To Write Out …
  plymouth-start.service      loaded active exited  Show Plymouth Boot Screen
  polkit.service              loaded active running Authorization Manager
  rsyslog.service             loaded active running System Logging Service
  rtkit-daemon.service        loaded active running RealtimeKit Scheduling Poli…
  sddm.service                loaded active running Simple Desktop Display Mana…
  setvtrgb.service            loaded active exited  Set console scheme
  snapd.apparmor.service      loaded active exited  Load AppArmor profiles mana…
  snapd.seeded.service        loaded active exited  Wait until snapd is fully s…
  snapd.service               loaded active running Snap Daemon
  systemd-backlight@backligh… loaded active exited  Load/Save Screen Backlight …
  systemd-backlight@backligh… loaded active exited  Load/Save Screen Backlight …
  systemd-journal-flush.serv… loaded active exited  Flush Journal to Persistent…
  systemd-journald.service    loaded active running Journal Service
  systemd-logind.service      loaded active running User Login Management
  systemd-modules-load.servi… loaded active exited  Load Kernel Modules
  systemd-random-seed.service loaded active exited  Load/Save Random Seed
  systemd-remount-fs.service  loaded active exited  Remount Root and Kernel Fil…
  systemd-resolved.service    loaded active running Network Name Resolution
  systemd-sysctl.service      loaded active exited  Apply Kernel Variables
  systemd-sysusers.service    loaded active exited  Create System Users
  systemd-timesyncd.service   loaded active running Network Time Synchronization
  systemd-tmpfiles-setup-dev… loaded active exited  Create Static Device Nodes …
  systemd-tmpfiles-setup.ser… loaded active exited  Create Volatile Files and D…
  systemd-udev-trigger.servi… loaded active exited  Coldplug All udev Devices
  systemd-udevd.service       loaded active running Rule-based Manager for Devi…
  systemd-update-utmp.service loaded active exited  Record System Boot/Shutdown…
  systemd-user-sessions.serv… loaded active exited  Permit User Sessions
  udisks2.service             loaded active running Disk Manager
  ufw.service                 loaded active exited  Uncomplicated firewall
  unattended-upgrades.service loaded active running Unattended Upgrades Shutdown
  upower.service              loaded active running Daemon for power management
  user-runtime-dir@1000.serv… loaded active exited  User Runtime Directory /run…
  user@1000.service           loaded active running User Manager for UID 1000
  wpa_supplicant.service      loaded active running WPA supplicant

LOAD   = Reflects whether the unit definition was properly loaded.
ACTIVE = The high-level unit activation state, i.e. generalization of SUB.
SUB    = The low-level unit activation state, values depend on unit type.
[0;1;39m59 loaded units listed.[0m Pass --all to see loaded but inactive units, too.
To show all installed unit files use 'systemctl list-unit-files'.

# # 2B) stop-service : STOPS DESIRED SERVICE (password prompt appears; p/w required to start/stop the service)
# stop-service unattended-upgrades
# # service-status OR status-service VIEWS STATUS OF THE SERVICE
# status-service unattended-upgrades 
# # commented - tests halts after completon

# 2C) start-service : STARTS DESIRED SERVICE (password prompt appears; p/w required to start/stop the service)
$ start-service unattended-upgrades
# service-status OR status-service VIEWS STATUS OF THE SERVICE
$ service-status unattended-upgrades
[0;1;32m●[0m unattended-upgrades.service - Unattended Upgrades Shutdown
     Loaded: loaded (]8;;file://ASPIRE5742GLUBU/lib/systemd/system/unattended-upgrades.service/lib/systemd/system/unattended-upgrades.service]8;;; enabled; vendor preset: enabled)
     Active: [0;1;32mactive (running)[0m since Thu 2022-09-08 22:04:06 +0545; 1min 40s ago
       Docs: ]8;;man:unattended-upgrade(8)man:unattended-upgrade(8)]8;;
   Main PID: 20223 (unattended-upgr)
      Tasks: 2 (limit: 4174)
     Memory: 8.9M
        CPU: 95ms
     CGroup: /system.slice/unattended-upgrades.service
             └─20223 /usr/bin/python3 /usr/share/unattended-upgrades/unattended…

Sep 08 22:04:06 ASPIRE5742GLUBU systemd[1]: Started Unattended Upgrades Shut…wn.
Hint: Some lines were ellipsized, use -l to show in full.

# 2D) restart-service-sudoless : SUDO-LESS METHOD TO RESTART DESIRED SERVICE 
# NOTE: password prompt appears; p/w required to start/stop the service 
$ restart-service-sudoless unattended-upgrades
# service-status OR status-service VIEWS STATUS OF THE SERVICE
$ service-status unattended-upgrades
# requires password but tests completes after (check need for batspp)
[0;1;32m●[0m unattended-upgrades.service - Unattended Upgrades Shutdown
     Loaded: loaded (]8;;file://ASPIRE5742GLUBU/lib/systemd/system/unattended-upgrades.service/lib/systemd/system/unattended-upgrades.service]8;;; enabled; vendor preset: enabled)
     Active: [0;1;32mactive (running)[0m since Thu 2022-09-08 22:05:49 +0545; 176ms ago
       Docs: ]8;;man:unattended-upgrade(8)man:unattended-upgrade(8)]8;;
   Main PID: 20367 (unattended-upgr)
      Tasks: 1 (limit: 4174)
     Memory: 6.8M
        CPU: 92ms
     CGroup: /system.slice/unattended-upgrades.service
             └─20367 /usr/bin/python3 /usr/share/unattended-upgrades/unattended…

Sep 08 22:05:49 ASPIRE5742GLUBU systemd[1]: Started Unattended Upgrades Shut…wn.
Hint: Some lines were ellipsized, use -l to show in full.

## TEST 3 - GET FREE FILENAME
# get-free-filename(base, [sep=""]): get filename starting with BASE that is not used.
# Notes: 1. If <base> exists <base><sep><N> checked until the filename not used (for N in 2, 3, ... ).
# 2. See sudo-admin for sample usage; also see rename-with-file-date.
#
$ function get-free-filename() {
$     local base="$1"
$     local sep="$2"
$     local L=1
$     local filename="$base"
$     ## DEBUG: local -p
$     while [ -e "$filename" ]; do
$         let L++
$         filename="$base$sep$L"
$     done;
$     ## DEBUG: local -p
$     echo "$filename"
$ }

## 3A) get-free-filename : get filename starting with BASE that is not used
$ printf "HELLO THERE,\nI AM EXTREMELY PLEASED TO USE UBUNTU." > abc.txt
$ get-free-filename "abc.txt" 2      #DOUBT(?)
$ linebr
$ ls -l
$ linebr
$ cat "abc.txt"
abc.txt22
--------------------------------------------------------------------------------
total 4
-rw-rw-r-- 1 aveey aveey 50 Sep  8 22:05 abc.txt
--------------------------------------------------------------------------------
HELLO THERE,
I AM EXTREMELY PLEASED TO USE UBUNTU.

# ## TEST 4 - SUDO ADMIN
# # sudo-admin(): create typescript as sudo user using filename based on current
# # date using numeric suffixes if necessary until the filename is free.
# # note: exsting _config*.log files are made read-only so not later overwritten
# # by accident
# function sudo-admin () {
#     local prefix="_config-"
#     local base="$prefix$(todays-date).log"
#     sudo chmod ugo-w "$prefix"*.log*
#     local script_log=$(get-free-filename "$base")
#     sudo --set-home   script --flush "$script_log"
# }
