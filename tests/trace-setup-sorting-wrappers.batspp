## TEST:  Make sure simple prompt used (e.g., no escapes that might contaminate output)
## PS1="$ "
## TODO: PS1="> "
## NOTE: The Jupyter bash kernel requires that PS1 not be modified as they customize it. 
$ echo $PS1
[PEXP\[\]ECT_PROMPT>

# Delete all aliases and function
# TODO: Instead start from pristine environment
$ unalias -a
$ alias | wc -l
$ for f in $(typeset -f | egrep '^\w+'); do unset -f $f; done
$ typeset -f | egrep '^\w+' | wc -l
0
0

# Setting a temp directory for tests
$ TMP=/tmp/test-setupsort
## NOTE: Source it directly from the ./tests directory.
$ BIN_DIR=$PWD/..
$ alias | wc -l
0

## NOTE: For reproducability, the directory name needs to be fixed
## In place of $$, use a psuedo random number (e,g., 6411)
## *** All output from one run to the next needs to be the same ***
## temp_dir=$TMP/test-$$
$ temp_dir=$TMP/test-6411
$ mkdir -p "$temp_dir"
# TODO: /bin/rm -rvf "$temp_dir"
$ cd "$temp_dir"
$ pwd
#ALIAS FOR PRINTING SEPERATION LINES (FOR JUPYTER)
$ alias linebr="printf '%*s\n' "${COLUMNS:-$(tput cols)}" '' | tr ' ' -"
/tmp/test-setupsort/test-6411

# Count aliases proper
$ alias | wc -l
# Count functions
$ typeset -f | egrep '^\w+' | wc -l
1
0

## TEST 1 - SETUP AND SORTING WRAPPERS
# Editing and activating new settings
#
# ORIGINAL: alias do-setup="conditional-source $HOME/.bashrc"
$ alias bashrc-setup="/home/.bashrc"
# Sorting wrappers
#
$ alias tab-sort="sort -t $'\t'"
$ alias colon-sort="sort $SORT_COL2 -t ':'"
$ alias colon-sort-rev-num='colon-sort -rn'
$ alias freq-sort='tab-sort -rn $SORT_COL2'
#
# para-sort: sort paragraphs alphabetically
# TODO: use '$@' for '$*' (or note why not appropriate)
$ function para-sort() { perl -00 -e '@paras=(); while (<>) {push(@paras,$_);} print join("\n", sort @paras);' $*; }
#
# echoize: output stdin (e.g., command output) on single line, as if echo $(command)
## BAD: alias echoize="perl -pe 's/\n(.)/ $1/;'"
## TODO: alias echoize="perl -pe 's/\n(.)/ \$1/;'"
$ function echoize { perl -00 -pe 's/\n(.)/ $1/g;'; }

$ pwd
/tmp/test-setupsort/test-6411

# FOR SOME REASONS "cat bashrc-setup" COMMAND GIVES AN ERROR
# cat ~/.bashrc | tab-sort
# linebr
# cat ~/.bashrc | colon-sort
# linebr
# cat ~/.bashrc | colon-sort-rev-num
# linebr
# cat ~/.bashrc | freq-sort
# linebr
$ rm -rf ./*
$ man printf > pf_manual.txt
$ cat pf_manual.txt | tab-sort
































              $'' syntax.
       \a     alert (BEL)
       and all C format specifications ending with one of diouxXfeEgGcs,  with
       ARGUMENTs converted to proper type first.  Variable widths are handled.
       %%     a single %
AUTHOR
       \\     backslash
       %b     ARGUMENT  as  a string with '\' escapes interpreted, except that
       \b     backspace
COPYRIGHT
       Copyright  ©  2020  Free Software Foundation, Inc.  License GPLv3+: GNU
       \c     produce no further output
DESCRIPTION
       \"     double quote
       \e     escape
       \f     form feed
       FORMAT controls the output as in C printf.  Interpreted sequences are:
       Full documentation <https://www.gnu.org/software/coreutils/printf>
GNU coreutils 8.32               February 2022                       PRINTF(1)
       GNU coreutils online help: <https://www.gnu.org/software/coreutils/>
       GPL version 3 or later <https://gnu.org/licenses/gpl.html>.
       --help display this help and exit
NAME
       \n     new line
       \NNN   byte with octal value NNN (1 to 3 digits)
       NOTE:  your shell may have its own version of printf, which usually su‐
              octal escapes are of the form \0 or \0NNN
       or available locally via: info '(coreutils) printf invocation'
              output version information and exit
       persedes the version described here.  Please refer to your shell's doc‐
       Print ARGUMENT(s) according to FORMAT, or execute according to OPTION:
PRINTF(1)                        User Commands                       PRINTF(1)
       printf(3)
       printf - format and print data
       printf FORMAT [ARGUMENT]...
       printf OPTION
              put,  escaping  non-printable characters with the proposed POSIX
       %q     ARGUMENT is printed in a format that can be reused as shell  in‐
       \r     carriage return
       Report any translation bugs to <https://translationproject.org/team/>
REPORTING BUGS
SEE ALSO
SYNOPSIS
       There is NO WARRANTY, to the extent permitted by law.
       This is free software: you are free  to  change  and  redistribute  it.
       \t     horizontal tab
       \UHHHHHHHH
       \uHHHH Unicode (ISO/IEC 10646) character with hex value HHHH (4 digits)
       umentation for details about the options it supports.
              Unicode character with hex value HHHHHHHH (8 digits)
       --version
       \v     vertical tab
       Written by David MacKenzie.
       \xHH   byte with hexadecimal value HH (1 to 2 digits)

$ cat pf_manual.txt | colon-sort
































              $'' syntax.
       \a     alert (BEL)
       and all C format specifications ending with one of diouxXfeEgGcs,  with
       ARGUMENTs converted to proper type first.  Variable widths are handled.
       %%     a single %
AUTHOR
       \\     backslash
       %b     ARGUMENT  as  a string with '\' escapes interpreted, except that
       \b     backspace
COPYRIGHT
       Copyright  ©  2020  Free Software Foundation, Inc.  License GPLv3+: GNU
       \c     produce no further output
DESCRIPTION
       \"     double quote
       \e     escape
       \f     form feed
       FORMAT controls the output as in C printf.  Interpreted sequences are:
       Full documentation <https://www.gnu.org/software/coreutils/printf>
GNU coreutils 8.32               February 2022                       PRINTF(1)
       GNU coreutils online help: <https://www.gnu.org/software/coreutils/>
       GPL version 3 or later <https://gnu.org/licenses/gpl.html>.
       --help display this help and exit
NAME
       \n     new line
       \NNN   byte with octal value NNN (1 to 3 digits)
       NOTE:  your shell may have its own version of printf, which usually su‐
              octal escapes are of the form \0 or \0NNN
       or available locally via: info '(coreutils) printf invocation'
              output version information and exit
       persedes the version described here.  Please refer to your shell's doc‐
       Print ARGUMENT(s) according to FORMAT, or execute according to OPTION:
PRINTF(1)                        User Commands                       PRINTF(1)
       printf(3)
       printf - format and print data
       printf FORMAT [ARGUMENT]...
       printf OPTION
              put,  escaping  non-printable characters with the proposed POSIX
       %q     ARGUMENT is printed in a format that can be reused as shell  in‐
       \r     carriage return
       Report any translation bugs to <https://translationproject.org/team/>
REPORTING BUGS
SEE ALSO
SYNOPSIS
       There is NO WARRANTY, to the extent permitted by law.
       This is free software: you are free  to  change  and  redistribute  it.
       \t     horizontal tab
       \UHHHHHHHH
       \uHHHH Unicode (ISO/IEC 10646) character with hex value HHHH (4 digits)
       umentation for details about the options it supports.
              Unicode character with hex value HHHHHHHH (8 digits)
       --version
       \v     vertical tab
       Written by David MacKenzie.
       \xHH   byte with hexadecimal value HH (1 to 2 digits)

$ cat pf_manual.txt | colon-sort-rev-num
       \xHH   byte with hexadecimal value HH (1 to 2 digits)
       Written by David MacKenzie.
       \v     vertical tab
       --version
              Unicode character with hex value HHHHHHHH (8 digits)
       umentation for details about the options it supports.
       \uHHHH Unicode (ISO/IEC 10646) character with hex value HHHH (4 digits)
       \UHHHHHHHH
       \t     horizontal tab
       This is free software: you are free  to  change  and  redistribute  it.
       There is NO WARRANTY, to the extent permitted by law.
SYNOPSIS
SEE ALSO
REPORTING BUGS
       Report any translation bugs to <https://translationproject.org/team/>
       \r     carriage return
       %q     ARGUMENT is printed in a format that can be reused as shell  in‐
              put,  escaping  non-printable characters with the proposed POSIX
       printf OPTION
       printf FORMAT [ARGUMENT]...
       printf - format and print data
       printf(3)
PRINTF(1)                        User Commands                       PRINTF(1)
       Print ARGUMENT(s) according to FORMAT, or execute according to OPTION:
       persedes the version described here.  Please refer to your shell's doc‐
              output version information and exit
       or available locally via: info '(coreutils) printf invocation'
              octal escapes are of the form \0 or \0NNN
       NOTE:  your shell may have its own version of printf, which usually su‐
       \NNN   byte with octal value NNN (1 to 3 digits)
       \n     new line
NAME
       --help display this help and exit
       GPL version 3 or later <https://gnu.org/licenses/gpl.html>.
       GNU coreutils online help: <https://www.gnu.org/software/coreutils/>
GNU coreutils 8.32               February 2022                       PRINTF(1)
       Full documentation <https://www.gnu.org/software/coreutils/printf>
       FORMAT controls the output as in C printf.  Interpreted sequences are:
       \f     form feed
       \e     escape
       \"     double quote
DESCRIPTION
       \c     produce no further output
       Copyright  ©  2020  Free Software Foundation, Inc.  License GPLv3+: GNU
COPYRIGHT
       \b     backspace
       %b     ARGUMENT  as  a string with '\' escapes interpreted, except that
       \\     backslash
AUTHOR
       %%     a single %
       ARGUMENTs converted to proper type first.  Variable widths are handled.
       and all C format specifications ending with one of diouxXfeEgGcs,  with
       \a     alert (BEL)
              $'' syntax.

































$ cat pf_manual.txt | freq-sort
       \xHH   byte with hexadecimal value HH (1 to 2 digits)
       Written by David MacKenzie.
       \v     vertical tab
       --version
              Unicode character with hex value HHHHHHHH (8 digits)
       umentation for details about the options it supports.
       \uHHHH Unicode (ISO/IEC 10646) character with hex value HHHH (4 digits)
       \UHHHHHHHH
       \t     horizontal tab
       This is free software: you are free  to  change  and  redistribute  it.
       There is NO WARRANTY, to the extent permitted by law.
SYNOPSIS
SEE ALSO
REPORTING BUGS
       Report any translation bugs to <https://translationproject.org/team/>
       \r     carriage return
       %q     ARGUMENT is printed in a format that can be reused as shell  in‐
              put,  escaping  non-printable characters with the proposed POSIX
       printf OPTION
       printf FORMAT [ARGUMENT]...
       printf - format and print data
       printf(3)
PRINTF(1)                        User Commands                       PRINTF(1)
       Print ARGUMENT(s) according to FORMAT, or execute according to OPTION:
       persedes the version described here.  Please refer to your shell's doc‐
              output version information and exit
       or available locally via: info '(coreutils) printf invocation'
              octal escapes are of the form \0 or \0NNN
       NOTE:  your shell may have its own version of printf, which usually su‐
       \NNN   byte with octal value NNN (1 to 3 digits)
       \n     new line
NAME
       --help display this help and exit
       GPL version 3 or later <https://gnu.org/licenses/gpl.html>.
       GNU coreutils online help: <https://www.gnu.org/software/coreutils/>
GNU coreutils 8.32               February 2022                       PRINTF(1)
       Full documentation <https://www.gnu.org/software/coreutils/printf>
       FORMAT controls the output as in C printf.  Interpreted sequences are:
       \f     form feed
       \e     escape
       \"     double quote
DESCRIPTION
       \c     produce no further output
       Copyright  ©  2020  Free Software Foundation, Inc.  License GPLv3+: GNU
COPYRIGHT
       \b     backspace
       %b     ARGUMENT  as  a string with '\' escapes interpreted, except that
       \\     backslash
AUTHOR
       %%     a single %
       ARGUMENTs converted to proper type first.  Variable widths are handled.
       and all C format specifications ending with one of diouxXfeEgGcs,  with
       \a     alert (BEL)
              $'' syntax.

































# ECHOES THE FILE 
$ uname -a > linux-info.txt
$ cat linux-info.txt | echoize
# $ cat ~/.bashrc | echoize
Linux INS-15-3573-UMATE 5.15.0-48-generic #54-Ubuntu SMP Fri Aug 26 13:26:29 UTC 2022 x86_64 x86_64 x86_64 GNU/Linux

# SORTS BY PARAGRAPH
$ cat pf_manual.txt | para-sort
       %%     a single %


       %b     ARGUMENT  as  a string with '\' escapes interpreted, except that
              octal escapes are of the form \0 or \0NNN


       %q     ARGUMENT is printed in a format that can be reused as shell  in‐
              put,  escaping  non-printable characters with the proposed POSIX
              $'' syntax.


       --help display this help and exit


       --version
              output version information and exit


       FORMAT controls the output as in C printf.  Interpreted sequences are:


       Full documentation <https://www.gnu.org/software/coreutils/printf>
       or available locally via: info '(coreutils) printf invocation'


       NOTE:  your shell may have its own version of printf, which usually su‐
       persedes the version described here.  Please refer to your shell's doc‐
       umentation for details about the options it supports.


       \"     double quote


       \NNN   byte with octal value NNN (1 to 3 digits)


       \UHHHHHHHH
              Unicode character with hex value HHHHHHHH (8 digits)


       \\     backslash


       \a     alert (BEL)


       \b     backspace


       \c     produce no further output


       \e     escape


       \f     form feed


       \n     new line


       \r     carriage return


       \t     horizontal tab


       \uHHHH Unicode (ISO/IEC 10646) character with hex value HHHH (4 digits)


       \v     vertical tab


       \xHH   byte with hexadecimal value HH (1 to 2 digits)


       and all C format specifications ending with one of diouxXfeEgGcs,  with
       ARGUMENTs converted to proper type first.  Variable widths are handled.


AUTHOR
       Written by David MacKenzie.


COPYRIGHT
       Copyright  ©  2020  Free Software Foundation, Inc.  License GPLv3+: GNU
       GPL version 3 or later <https://gnu.org/licenses/gpl.html>.
       This is free software: you are free  to  change  and  redistribute  it.
       There is NO WARRANTY, to the extent permitted by law.


DESCRIPTION
       Print ARGUMENT(s) according to FORMAT, or execute according to OPTION:


GNU coreutils 8.32               February 2022                       PRINTF(1)

NAME
       printf - format and print data


PRINTF(1)                        User Commands                       PRINTF(1)


REPORTING BUGS
       GNU coreutils online help: <https://www.gnu.org/software/coreutils/>
       Report any translation bugs to <https://translationproject.org/team/>


SEE ALSO
       printf(3)


SYNOPSIS
       printf FORMAT [ARGUMENT]...
       printf OPTION
